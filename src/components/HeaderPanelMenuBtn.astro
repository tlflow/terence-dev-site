---
// import HamburgerIcon from "../partials/svgs/hamburger.astro";
import CloseIcon from "../partials/svgs/close.astro";
---

<div>
  <a id="menu_btn" class="btn icon-link" href="#" @click="toggleMenu">
    <div class="icon">
      <CloseIcon />
    </div>
  </a>
</div>

<script>
  const $_PAGEBODY = document.getElementById("page-body");
  const $_PANEL_MENU_BTN = document.getElementById("menu_btn");
  const $_SITENAV_MENU = document.getElementById("main_menu");
  const $_CLOSE_BTN = document.getElementById("close_menu_btn");

  function toggleMenu() {
    if ($_SITENAV_MENU.dataset.status === "") {
      $_SITENAV_MENU.dataset.status = "active";
      $_PAGEBODY.dataset.mainMenu = "active";
      return;
    }
    $_SITENAV_MENU.dataset.status = "";
    $_PAGEBODY.dataset.mainMenu = "";
  }

  $_PANEL_MENU_BTN.addEventListener("click", (e) => {
    e.preventDefault();
    toggleMenu();
  });
  $_CLOSE_BTN.addEventListener("click", (e) => {
    e.preventDefault();
    toggleMenu();
  });
</script>

<style>
  #menu_btn {
    background-color: var(--color-primary);
    display: flex;
    justify-content: flex-start;
    align-items: center;
    border-radius: var(--btn-border-radius);
    width: 4rem;
    height: 2rem;
    padding: 0 4px;

    .icon {
      color: var(--color-secondary);
      --icon-size: 1.6rem;
    }
  }
</style>
